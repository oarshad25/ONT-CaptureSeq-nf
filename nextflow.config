/*
Set default parameters

Any parameters provided by the user with a -params-file or
with -- command-line arguments will override the values
defined below.
*/
params {
    // print help
    help = false

    /*
    Mandatory options
    =================
    */

    // *input options*
    // must specify one of inputdir or samplesheet
    // path to demultiplexed read directory
    inputdir = null
    // path to sample manifest in CSV format
    samplesheet = null

    // *references*
    // path to reference genome in fasta format
    genome = null
    // path to genome annotation in GTF format
    annotation = null

    /*
    Additional options
    =================
    */
    // *output directory*
    outdir = "results"

    // threshold for minimum number of reads that sample must contain
    // samples with number of reads below this threshold are discarded
    // this is mainly to get rid of unassigned barcodes
    min_reads_per_sample = 1000
}

/*
Pipeline metadata
*/

manifest {
    name = 'ONT-CaptureSeq-nf'
    contributors = [[name: 'Osama Arshad', affiliation: 'University of Oxford', contribution: 'author']]
    homePage = 'https://github.com/oarshad25/ONT-CaptureSeq-nf'
    description = 'analysis of multiplexed long-read nanopore targeted RNA capture sequencing'
    mainScript = 'main.nf'
    license = 'GPLv3'
    //TODO: set nextflow minimum version
    nextflowVersion = ''
    //TODO: Add pipeline version number
    version = ''
}

/*
Configuration profiles

Define profiles for different execution platforms
*/

profiles {
    laptop {
        process.executor = 'local'
        docker.enabled = true
        docker.runOptions = '-u $(id -u):$(id -g) --platform=linux/amd64'
    }

    bmrc {
        includeConfig 'conf/bmrc.config'
    }

    local {
        process.executor = 'local'
    }
}
