/*
Set default parameters

Any parameters provided by the user with a -params-file or
with -- command-line arguments will override the values
defined below.
*/
params {
    // print help
    help = false

    /*
    Mandatory options
    =================
    */

    // *input options*
    // must specify one of inputdir or samplesheet
    // path to demultiplexed read directory
    inputdir = null
    // path to sample manifest in CSV format
    samplesheet = null

    // *references*
    // path to reference genome in fasta format
    genome = null
    // path to genome annotation in GTF format
    annotation = null

    /*
    Additional options
    =================
    */
    // *output directory*
    outdir = "results"

    // threshold for minimum number of reads that sample must contain
    // samples with number of reads below this threshold are discarded
    // this is mainly to get rid of unassigned barcodes
    min_reads_per_sample = 1000
}

/*
Pipeline metadata
*/

manifest {
    name = 'ONT-CaptureSeq-nf'
    contributors = [
        [
            name: 'Osama Arshad',
            affiliation: 'University of Oxford',
            contribution: 'author',
        ]
    ]
    homePage = 'https://github.com/oarshad25/ONT-CaptureSeq-nf'
    description = 'analysis of multiplexed long-read nanopore targeted RNA capture sequencing'
    mainScript = 'main.nf'
    defaultBranch = 'main'
    license = 'GPLv3'
    nextflowVersion = '!>=24.04'
    version = '0.0.1dev'
    doi = ''
}

/*
Configuration profiles

Define profiles for different execution platforms
*/

profiles {

    /*
    profiles for technical configuration of execution platform
    */

    laptop {
        process.executor = 'local'
        docker.enabled = true
        docker.runOptions = '-u $(id -u):$(id -g) --platform=linux/amd64'
    }

    bmrc {
        includeConfig 'conf/bmrc.config'
    }

    // local profile for running locally
    local {
        process.executor = 'local'
    }

    /*
    profiles to run pipeline with test parameters
    */

    test_wf_transcriptomes {
        includeConfig 'conf/test_wf_transcriptomes.config'
    }

    test_sirv {
        includeConfig 'conf/test_sirv.config'
    }

    test_sib_lr_course {
        includeConfig 'conf/test_sib_lr_course.config'
    }
}
